{{ 'splide.min.css' | asset_url | stylesheet_tag}}

<div class="section-background color-{{ section.settings.color_scheme }}"></div>

<aside
  class="color-{{ section.settings.color_scheme }}"
  style="{% render 'spacing-padding', settings: section.settings %}; --border-bottom-width: {{ section.settings.divider_width }}px;"
>
<div class="announcement_container">




<section class="splide announcement-slider" aria-label="Splide Basic HTML Example">
  <div class="splide__track">
		<ul class="splide__list">

    {%- for block in section.blocks -%}
      {%- if block.settings.announchment_text != blank  -%}
			<li class="splide__slide">{{ block.settings.announchment_text }}</li>
			  {%- endif -%}
      {%- endfor -%}
		</ul>
  </div>
</section>

<div class="customer-button">
  <a href="{{ section.settings.customer_link }}"> 
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
    <path d="M3.27458 7.02753L5.03486 5.26725C5.39394 4.90818 5.51819 4.37761 5.37296 3.89101C5.2594 3.51051 5.13146 3.05309 5.04641 2.66195C4.96775 2.30018 4.6503 2 4.28008 2H3.27458C2.53414 2 1.92608 2.60256 2.0073 3.33853C2.62473 8.93307 7.06694 13.3753 12.6615 13.9927C13.3975 14.0739 14 13.4659 14 12.7254V11.7199C14 11.3497 13.6986 11.046 13.3343 10.9797C12.9325 10.9067 12.5074 10.7869 12.1517 10.6735C11.6407 10.5106 11.0727 10.6251 10.6935 11.0043L8.97247 12.7254" stroke="#131413" stroke-linecap="round" stroke-linejoin="round"/>
  </svg>
    Customer service
  </a>
</div>

</div>


</aside>


<script
  src="{{ 'splide.min.js' | asset_url }}"
  type="module"
  fetchpriority="low"
></script>

<script>
  document.addEventListener( 'DOMContentLoaded', function() {

      var splide = new Splide( '.splide', {
      type   : 'loop',
      autoplay: true,
      pagination: false, 
      arrows: false,
      perPage: 5.5,
      perMove: 1,
      breakpoints: {
        640: {
          perPage: 0.5,
        },
      }


} );

splide.mount();

  } );

</script>

{% stylesheet %}

.announcement_container {
    display: flex;
    justify-content: space-between;
    width: 100%;
    border-bottom: 1px solid var(--color-black);
    height: 32px;
    .announcement-slider{
      width: 85%;
      background: var(--color-black);
      color: var(--color-stroke-1);
      font-family: var(--font-family-secondary);
      font-size: 12px;
      font-weight: var(--font-weight-medium);
      font-style: normal;
      line-height: 20px; /* 166.667% */
      letter-spacing: 2px;
      display: flex;
      align-items: center;
      .splide__slide {
          list-style-type: disc !important;
          padding: 24px;
      }
    }
    .customer-button {
    width: 214px;
    margin-left: 20px;
    display: flex;
    align-items: center;

  a {
    width: 100%;
    display: flex;
    align-items: center;
    gap: 17px;
    text-decoration: none;
    color: var(--color-black);
    text-align: center;
    font-family: var(--font-family-secondary);
    font-size: 12px;
    font-weight: var(--font-weight-medium);
    line-height: 1.66;
    letter-spacing: 2px;

}
}
}

@media all and (max-width: 767px) {
  .announcement_container {
    .announcement-slider {
          width: 54%;
  }
    .customer-button {
    width: 172px;
      margin-left: 12px;
        a {
          gap: 4px;
        }

      
  }
  }

}


{% endstylesheet %}

{% schema %}
{
  "name": "t:names.announcement_bar",

  "enabled_on": {
    "groups": ["header"]
  },
  "settings": [
    {
      "type": "url",
      "id": "customer_link",
      "label": "Customer Service Link"
    },
    {
      "type": "range",
      "id": "speed",
      "label": "t:settings.scroll_speed",
      "min": 2,
      "max": 10,
      "default": 5,
      "unit": "sec"
    },
    {
      "type": "header",
      "content": "t:content.appearance"
    },
    {
      "type": "select",
      "id": "section_width",
      "label": "t:settings.section_width",
      "options": [
        {
          "value": "page-width",
          "label": "t:options.page"
        },
        {
          "value": "full-width",
          "label": "t:options.full"
        }
      ],
      "default": "page-width"
    },
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "default": "scheme-4",
      "label": "t:settings.color_scheme"
    },
    {
      "type": "range",
      "id": "divider_width",
      "label": "t:settings.divider_thickness",
      "min": 0,
      "max": 5,
      "step": 0.5,
      "unit": "px",
      "default": 0
    },
    {
      "type": "header",
      "content": "t:content.padding"
    },
    {
      "type": "range",
      "id": "padding-block-start",
      "label": "t:settings.top",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "default": 15
    },
    {
      "type": "range",
      "id": "padding-block-end",
      "label": "t:settings.bottom",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "default": 15
    }
  ],
  "blocks": [
    {
      "type": "announchment_item",
      "name": "t:names.announcement",
      "settings": [
    {
      "type": "inline_richtext",
      "id": "announchment_text",
      "label": "t:settings.text",
      "default": "t:text_defaults.shop_our_latest_arrivals"
    }
    // {
    //   "type": "url",
    //   "id": "link",
    //   "label": "t:settings.link"
    // }
   
  ]
    }
  ],
  "presets": [
    {
      "name": "t:names.announcement_bar",
      "blocks": [
        { "type": "announchment_item" },
        { "type": "announchment_item" },
        { "type": "announchment_item" }
        ]
    }
  ]
}
{% endschema %}
